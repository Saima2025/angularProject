<div class="max-w-md mx-auto p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-6 text-gray-900">My Profile</h2>

  <form (ngSubmit)="saveProfile()" class="space-y-6">
    <label class="block">
      <span class="text-gray-700 font-medium mb-1 block">Name:</span>
      <input
        type="text"
        [(ngModel)]="user.name"
        name="name"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    </label>

    <label class="block">
      <span class="text-gray-700 font-medium mb-1 block">Email:</span>
      <input
        type="email"
        [(ngModel)]="user.email"
        name="email"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    </label>

    <div>
      <span class="text-gray-700 font-medium mb-2 block">Preferred Categories:</span>
      <div *ngFor="let cat of categories" class="flex items-center mb-2">
        <input
          type="checkbox"
          [checked]="isCategorySelected(cat)"
          (change)="toggleCategory(cat)"
          id="{{ cat }}"
          class="h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"
        />
        <label for="{{ cat }}" class="ml-2 text-gray-700 cursor-pointer">{{ cat }}</label>
      </div>
    </div>

    <label class="flex items-center space-x-2">
      <input
        type="checkbox"
        [(ngModel)]="user.preferences.notifications"
        name="notifications"
        class="h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"
      />
      <span class="text-gray-700 font-medium">Enable Notifications</span>
    </label>

    <div *ngIf="errorMessage" class="text-red-600 font-semibold">
      {{ errorMessage }}
    </div>

    <button
      type="submit"
      class="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition"
    >
      Save Profile
    </button>
  </form>
</div>
